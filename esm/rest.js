import t from"axios";let e=async(e,s={},a="")=>{try{return(await t.get(`https://www.googleapis.com/youtube/v3/${e}`,{params:{...s,key:a}})).data}catch(s){console.error(`YouTube API 오류 (${e}):`,s);let t=s instanceof Error?s.message:"알 수 없는 오류가 발생했습니다";throw Error(`YouTube API 요청 중 오류가 발생했습니다: ${t}`)}},s=async(t,s={},a="",i=1/0)=>{let r,o=[];do{let n=await e(t,{...s,pageToken:r,maxResults:Math.min(50,i-o.length)},a);o=o.concat(n.items),r=n.nextPageToken}while(r&&o.length<i)return o.length>i&&(o=o.slice(0,i)),o},a=async(t,e="",a="contentDetails,id,liveStreamingDetails,localizations,player,recordingDetails,snippet,statistics,status,topicDetails")=>{let i=[];for(let r of t){let t={part:a,id:r},o=await s("videos",t,e);i.push(o[0])}return i},i=async(t,s="")=>{try{if(!t)return"";t=t.startsWith("@")?t.slice(1):t;let s=await e("search",{part:"id",type:"channel",q:t,maxResults:1});if(s.items&&s.items.length>0)return s.items[0].id.channelId;return""}catch(t){return""}},r=async e=>{let s=`https://www.youtube.com/shorts/${e}`;try{return(await t.get(s,{maxRedirects:5,validateStatus:function(t){return t>=200&&t<300}})).request.res.responseUrl.includes("/shorts/")}catch(t){return console.error("Error:",t.message),!1}},o=async(t="",e=50)=>(await s("videos",{part:"id",chart:"mostPopular"},t,e)).map(t=>t.id),n=async(t,s="")=>(await e("videos",{part:"snippet",id:t},s)).items[0].snippet.title,l=async t=>(await e("playlists",{part:"snippet",id:t})).items[0].snippet.title;export{s as getAllResponses,e as getResponse,i as getChannelIdByCustomUrl,a as videosFromVideoIds,r as isShorts,o as mostPopularVideoIds,n as getVideoTitle,l as getPlaylistTitle};